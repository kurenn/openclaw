services:
  - type: web
    name: openclaw
    runtime: docker
    plan: starter
    healthCheckPath: /health
    envVars:
      # Render scans this port. Keep it aligned with the gateway port.
      - key: PORT
        value: "8080"

      # FIX: make OpenClaw Gateway listen on Renderâ€™s PORT instead of default 18789
      - key: OPENCLAW_GATEWAY_PORT
        value: "8080"

      # FIX: bind to 0.0.0.0 so Render can detect the open port (not 127.0.0.1)
      - key: OPENCLAW_GATEWAY_BIND
        value: "lan"

      # Required during deploy (Render will prompt you to set this)
      - key: SETUP_PASSWORD
        sync: false # prompts during deploy

      # Persistent storage locations
      - key: OPENCLAW_STATE_DIR
        value: /data/.openclaw
      - key: OPENCLAW_WORKSPACE_DIR
        value: /data/workspace

      # Generates a secure token automatically (good, and also needed for non-loopback binds)
      - key: OPENCLAW_GATEWAY_TOKEN
        generateValue: true # auto-generates a secure token

    disk:
      name: openclaw-data
      mountPath: /data
      sizeGB: 1